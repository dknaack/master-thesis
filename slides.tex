\documentclass[aspectratio=169]{beamer}

\title{On Elementary Properties of a Multidimensional Generalization of the Euclidean Algorithm}
\author{Daniel Knaack}
\date{}

\usepackage{tikz}
\usepackage{fontspec}
\usepackage{unicode-math}
\usepackage{standalone}
\usepackage{adjustbox}

\setmathfont{TeX Gyre Pagella Math}
\usetikzlibrary{decorations.pathreplacing, calligraphy, intersections, backgrounds, graphdrawing, graphs, calc, matrix, 3d}
\tikzset{>=stealth}

\newtheorem{conjecture}{Conjecture}

\usetheme{metropolis}
\usefonttheme[onlymath]{serif}
\setbeamertemplate{caption}{\raggedright\insertcaption\par}

\begin{document}

\begin{frame}
  \maketitle
\end{frame}

\begin{frame}
  \frametitle{Representation of Real Numbers}
  \begin{columns}[T]
    \column{0.33\textwidth}
    \begin{center}
      \textbf{Rational Numbers} \\
      Decimals
      \[
        \frac{22}{7} = 3.\overline{142857}
      \]
    \end{center}

    \column{0.33\textwidth}
    \begin{center}
      \textbf{Quadratic Irrationals} \\
      Continued Fractions
      \begin{align*}
        \sqrt{2} & = 1 + \cfrac{1}{2 + \cfrac{1}{2 + \cfrac{1}{⋱}}}
      \end{align*}
    \end{center}
    \column{0.33\textwidth}
    \begin{center}
      \textbf{Cubic Irrationals} \\
      ?
      \[\sqrt[3]{5} = ? \vphantom{\cfrac{1}{a₀}}\]
    \end{center}
  \end{columns}
\end{frame}

\begin{frame}
  \begin{problem}[Hermite, 1839]
    Does there exist a representation of the \alert{real numbers as a sequence of integers}
    such that the representation is \alert{eventually periodic} if and only if
    the number is \alert{\alt<2>{an algebraic number of degree $d$}{a cubic irrational}}?
  \end{problem}
\end{frame}

\begin{frame}
  \frametitle{Outline}
  \small
  \begin{columns}
    \column{0.49\textwidth}
    \textbf{Quadratic Irrationals}:
    \begin{enumerate}
      \item The Euclidean Algorithm
      \item Fibonacci Numbers
      \item Continued Fractions
      \item Periodicity and Quadratic Irrationals
    \end{enumerate}

    \column{0.49\textwidth}
    \textbf{Algebraic Numbers}:
    \begin{enumerate}
      \item The Generalized Euclidean Algorithm
      \item Higher-Order Fibonacci Numbers
      \item Multidimensional Continued Fractions
      \item Periodicity and Algebraic Numbers?
    \end{enumerate}
  \end{columns}
\end{frame}

\begin{frame}
  \frametitle{The Euclidean Algorithm}
  \small
  \begin{columns}[T]
    \column{0.45\textwidth}
    \begin{problem}[Greatest Common Divisor]
      \begin{itemize}
        \item \textbf{Input}: $a, b ∈ ℤ$.
        \item \textbf{Output}: $c = \gcd(a, b)$.
      \end{itemize}
    \end{problem}
    % TODO: Zahlenstrahl
    \column{0.45\textwidth}
    \begin{problem}[Lattice Basis Computation]
      \begin{itemize}
        \item \textbf{Input}: $A ∈ ℤ^{d×n}$ with $n > d$.
        \item \textbf{Output}: $B ∈ ℤ^{d×d}$ such that \[\mathcal L(B) = \mathcal L(A).\]
      \end{itemize}
    \end{problem}
  \end{columns}
  \begin{columns}
    \column{0.49\textwidth}
    \begin{center}
      \begin{tikzpicture}
        \draw[->] (-2, 0) -- (2, 0) node[right] {$ℤ$};

        \draw (-1.5, 0.1) -- (-1.5, -0.1) node[below] {$0$};
        \draw (0.5, 0.1) -- (0.5, -0.1) node[below] {$a$};
        \draw (1, 0.1) -- (1, -0.1) node[below] {$b$};
      \end{tikzpicture}
    \end{center}

    \column{0.49\textwidth}
    \begin{center}
      \begin{tikzpicture}[scale=0.3]
        \clip (-10.5, -3.5) rectangle (10.5, 6.5);

        \foreach \x in {-10,...,10}
        \foreach \y in {-10,...,10}
        {
          \draw[black!40, dotted] (3*\x + \y, \x + 4*\y) -- (3*\x + \y + 1, \x + 4*\y + 4);
          \draw[black!40, dotted] (3*\x + \y, \x + 4*\y) -- (3*\x + 3 + \y, \x + 1 + 4*\y);
          \fill[black!40] (3*\x + \y, \x + 4*\y) circle (2pt);
        }

        \draw[->, thick] (0, 0) -- node[below] {$B₁$} (3, 1);
        \draw[->, thick] (0, 0) -- node[left] {$B₂$} (1, 4);
        \fill (0, 0) circle (3pt) node[below left] {$0$};
      \end{tikzpicture}
    \end{center}
  \end{columns}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Modulo}
  \begin{columns}
    \column{0.49\textwidth}
    \includestandalone{figures/golden-rectangle}
    \[
      c = bq + r
    \]

    \column{0.49\textwidth}
    \adjustbox{scale=0.7}{\includestandalone{figures/lattice-modulo}}
    \[
      c = {\underbrace{Bx}_{{} ∈ \mathcal L(B)}} + {\underbrace{r}_{{} ∈ Π(B)}}
    \]
  \end{columns}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Exchange}
  \begin{columns}
    \column{0.49\textwidth}
    \includestandalone{figures/golden-rectangle}
    \begin{center}
      \begin{tikzpicture}
        \node[matrix, matrix of math nodes, column sep=-2mm, row sep=7mm] (M)
        {
          c   & =  & \symbfit{\color{purple}b} x &+& \symbfit{\color{blue}r} \\
          \symbfit{\color{purple}b}   & =  & \symbfit{\color{blue}r} x &+& r' \\
        };

        \draw[->, blue, in=90, out=270] (M-1-5) to (M-2-3);
        \draw[->, red, in=90, out=270] (M-1-3) to (M-2-1);
      \end{tikzpicture}
    \end{center}

    \column{0.49\textwidth}
    \adjustbox{scale=0.7}{\includestandalone{figures/lattice-modulo}}
    \begin{center}
      \begin{tikzpicture}
        \node[matrix, matrix of math nodes, column sep=-2mm, row sep=7mm] (M)
        {
          c   & =  & B_1 x_1  & + & ⋯ & + & \symbfit{\color{red}B_ℓ} x_ℓ & + & ⋯ & + & B_d x_d   & + & \symbfit{\color{blue}r}   \\
          \symbfit{\color{red}B_ℓ} & =  & B_1 x_1' & + & ⋯ & + & \symbfit{\color{blue}r} x_ℓ'  & + & ⋯ & + & B_d x_d'  & + & r'  \\
        };

        \draw[->, blue, in=90, out=270, looseness=0.5] (M-1-13) to (M-2-7);
        \draw[->, red, in=90, out=270, looseness=0.5] (M-1-7) to (M-2-1);
      \end{tikzpicture}
    \end{center}
  \end{columns}
\end{frame}

\begin{frame}
  \begin{columns}
    \column{0.49\textwidth}

    \column{0.49\textwidth}
    \begin{align*}
      x' & = \mathrm{pivot}_ℓ(x) \\
      \text{ with } x_i & = \begin{cases}
        \frac{1}{\{x_ℓ\}}, & \text{ if } i = ℓ, \\
        \frac{\{x_i\}}{\{x_ℓ\}}, & \text{ if } i ≠ ℓ.
      \end{cases}
    \end{align*}
  \end{columns}
\end{frame}

\begin{frame}
  \frametitle{Fibonacci Numbers}
  \small
  \begin{columns}[T]
    \column{0.49\textwidth}
    The Fibonacci numbers are defined as
    \[
      F(n) = F(n - 1) + F(n - 2).
    \]
    \column{0.49\textwidth}
    The $d$-bonacci numbers are defined as
    \[
      F(n) = F(n - 1) + ⋯ + F(n - d - 1).
    \]
  \end{columns}
  \vspace{1em}
  \begin{columns}[T]
    \column{0.49\textwidth}
    \begin{theorem}
      If the Euclidean algorithm requires $n$ steps on $(a, b)$ with $a < b$,
      then \[
        a ≥ F(n+1) \text{ and } b ≥ F(n+2).
      \]
    \end{theorem}

    \column{0.49\textwidth}
    \begin{theorem}
      If the generalized Euclidean algorithm requires $n$ steps on $x = (p₁/q, …, p_d/q)$,
      when selecting the minimum,
      then \[
        p_{σ(i)} ≥ ∑_{k=0}^i F(n-k) \text{ and } q ≥ F(n+1)
      \]
      for some permutation $σ$.
    \end{theorem}
  \end{columns}
\end{frame}

\begin{frame}
  \frametitle{Golden Ratio}

  \begin{columns}
    \column{0.49\textwidth}

    \column{0.49\textwidth}
  \end{columns}
\end{frame}

\begin{frame}<1>[label={cont-frac}]
  \frametitle{Continued Fractions}
  \small
  \begin{columns}[T]
    \column{0.49\textwidth}
    \begin{definition}
      A \emph{continued fraction} over a sequence over integers $(aₙ)_{n≥0}$ is defined as
      \[
        [a₀; a₁, …] = a₀ + \frac{1}{[a₁; a₂, …]}.
      \]
      The \emph{$n$-th convergent} is $[a₀; a₁, …, aₙ]$.
    \end{definition}

    \pause
    \column{0.49\textwidth}
    \begin{definition}
      A \emph{multidimensional continued fraction} over a sequence over integer
      vectors $(a^{(n)})_{n≥0}$ is defined as
      \[
        [a^{(0)}; a^{(1)}, …] = \mathrm{pivot}^{-1}(a^{(0)}, [a^{(1)}; a^{(2)}, …]).
      \]
      The \emph{$n$-th convergent} is $[a^{(0)}; a^{(1)}, …, a^{(n)}]$.
    \end{definition}
  \end{columns}
\end{frame}

\begin{frame}
  \frametitle{Construction}

  \begin{columns}
    \column{0.49\textwidth}
    \begin{tikzpicture}[scale=0.5]
      \draw (0, 0) rectangle (8, 3) node[pos=0.5] {\large $8:3$};

      \draw[thick, dashed, fill=black!50, opacity=0.2] (-0.5, -4) rectangle (2.5, -1) node[pos=0.5, opacity=0.7] {\large$1:1$};
      \draw[thick, dashed, fill=black!50, opacity=0.2] (3, -4) rectangle (6, -1) node[pos=0.5, opacity=0.7] {\large$1:1$};
      \draw[thick] (6.5, -4) rectangle (8.5, -1) node[pos=0.5] {\large$2:3$};

      \draw (2.5, -7) rectangle (5.5, -5) node[pos=0.5] {\large$3:2$};

      \draw[ultra thick] (6.5, -2.5) edge[bend right, ->] (4, -5);
      \draw[thick] (2, 0) edge[->] (1, -1);
      \draw[thick] (4, 0) edge[->] (4.5, -1);
      \draw[ultra thick] (6, 0) edge[->] (7.5, -1);
    \end{tikzpicture}

    \column{0.49\textwidth}
  \end{columns}
\end{frame}

\begin{frame}
  % TODO: Figure for pivot rule
  \[
    x' = \mathrm{pivot}_ℓ(x)
    \iff
    x = \mathrm{pivot}^{-1}(a, x').
  \]
  \[
    x_i' =
    \begin{cases}
      \frac{1}{x_ℓ - a_ℓ}, & \text{ if } i = ℓ, \\
      \frac{x_i - a_i}{x_ℓ - a_ℓ}, & \text{ otherwise},
    \end{cases}
    \iff
    x_i =
    \begin{cases}
      a_ℓ + \frac{1}{x_ℓ'}, & \text{ if } i = ℓ, \\
      a_i + \frac{x_i'}{x_ℓ'}, & \text{ otherwise}.
    \end{cases}
  \]
\end{frame}

\againframe<2>{cont-frac}

\begin{frame}
  \frametitle{Convergence}
  \small
  \begin{columns}[T]
    \column{0.49\textwidth}
    \begin{theorem}
      The convergents $pₙ/qₙ$ of a continued fraction approach $x ∈ ℝ$.
      Specifically,
      \[
        \left|x - \frac{pₙ}{qₙ}\right| < \frac{1}{qₙ^2}.
      \]
    \end{theorem}

    \column{0.49\textwidth}
    \begin{theorem}
      The convergents $r^{(n)}$ of a multidimensional continued fraction approach $x ∈ ℝ^d$, if
      \begin{enumerate}
        \item Every index is used infinitely often
        \item The distance between two equal indices is constant.
      \end{enumerate}
    \end{theorem}
  \end{columns}
\end{frame}

\begin{frame}
  \frametitle{Geometry}
  \small

  \begin{columns}
    \column{0.49\textwidth}
    \begin{lemma}
      \[
        \frac{pₙ}{qₙ} = \frac{p_{n-1} a_n + p_{n-2}}{q_{n-1} a_n + q_{n-2}}.
      \]
    \end{lemma}

    \column{0.49\textwidth}
    \begin{lemma}
      \[
        \frac{P_ℓ^{(n)}}{Q_ℓ}
        = \frac{P_0^{(n-1)} + P_1^{(n-1)} a_1^{(n)} + ⋯ + P_d^{(n)} a_d^{(n)}}
               {Q_0^{(n-1)} + Q_1^{(n-1)} a_1^{(n)} + ⋯ + Q_d^{(n)} a_d^{(n)}}.
      \]
    \end{lemma}
  \end{columns}

  \begin{columns}
    \column{.49\textwidth}
    \[
      p_n/q_n ↦ \begin{pmatrix}
        p_n \\
        q_n \\
      \end{pmatrix}
    \]
    %\adjustbox{scale=.9}{\includestandalone{figures/klein-polygon}}

    \column{.49\textwidth}
    \[
      P_ℓ^{(n)}/Q_ℓ^{(n)} ↦ \begin{pmatrix}
        Q_ℓ \\
        P_ℓ \\
      \end{pmatrix}
    \]
    %\adjustbox{scale=.9}{\includestandalone{figures/projective-space}}
  \end{columns}
\end{frame}

\begin{frame}
  \begin{center}
    \includestandalone{figures/projective-space}
  \end{center}
\end{frame}

\begin{frame}
  \frametitle{Periodicity $\Rightarrow$ Algebraicity}
  \small
  \begin{columns}[T]
    \column{0.49\textwidth}
    \begin{theorem}
      If a continued fraction of a number $x ∈ ℝ$ is periodic, then $x$ is a
      quadratic irrational.
    \end{theorem}

    \begin{proof}[Proof Sketch]
      If the continued fraction is periodic,
      then $(x, 1)$ is the eigenvector of an integer matrix $B ∈ ℤ^{2×2}$.
    \end{proof}

    \column{0.49\textwidth}
    \begin{theorem}
      If a multidimensional continued fraction of a vector $x ∈ ℝ^d$ is
      periodic, then $[ℚ(x₁, …, x_d) : ℚ] ≤ d+1$.
    \end{theorem}

    \begin{proof}[Proof Sketch]
      If the continued fraction is periodic,
      then $(x, 1)$ is the eigenvector of an integer matrix $B ∈ ℤ^{(d+1)×(d+1)}$.
    \end{proof}
  \end{columns}
\end{frame}

\begin{frame}
  \frametitle{Periodicity $\Leftarrow$ Algebraicity}
  \small
  \begin{columns}[T]
    \column{0.49\textwidth}
    \begin{theorem}
      If $x$ is a quadratic irrational,
      then its continued fraction is periodic.
    \end{theorem}

    \begin{proof}[Proof Sketch]
      For every quadratic irrational,
      there exists a matrix $U ∈ ℤ^{2×2}$, which preserves the Klein polygon and thus, the convergents.
    \end{proof}

    \column{0.49\textwidth}
    \begin{conjecture}
      If $x$ is an algebraic number of degree $d+1$,
      then the multidimensional continued fraction of $(x^1, …, x^d)$ is
      periodic.
    \end{conjecture}
  \end{columns}
\end{frame}

\begin{frame}
  \small
  \begin{columns}
    \column{0.49\textwidth}
    \begin{enumerate}
      \item The Euclidean Algorithm
      \item Fibonacci Numbers
      \item Continued Fractions
      \item Periodicity and Quadratic Irrationals
    \end{enumerate}

    \column{0.49\textwidth}
    \begin{enumerate}
      \item The Generalized Euclidean Algorithm
      \item Higher-Order Fibonacci Numbers
      \item Multidimensional Continued Fractions
      \item Periodicity and Algebraic Numbers?
    \end{enumerate}
  \end{columns}
\end{frame}

\end{document}
